<HTML>
<HEAD>
<TITLE>CONSTRUCT</TITLE>
</HEAD><BODY>
<B>CONSTRUCT
<P></P>
</B>The CONSTRUCT statement stores in a <A HREF="4GLREFcharacter00000048.htm">character</A> variable the 4GL <A HREF="4GLREFBoolean.htm">Boolean</A> expression that corresponds to the query by example that a user specifies.
You can use this character variable as the WHERE clause of a SELECT statement.
<P></P>
<IMG SRC="4GLREF00000119.gif" ALT="4GLREF00000119.gif" BORDER="0" USEMAP="#map72" WIDTH="588" HEIGHT="123"><MAP NAME="map72"><AREA COORDS="346,21,450,68" HREF="4GLREFCONSTRUCT.htm#beef740e"><AREA COORDS="196,44,266,81" HREF="4GLREFATTRIBUTE00000476.htm"><AREA COORDS="99,20,170,69" HREF="4GLREFCONSTRUCT.htm#beef740e"></MAP>
<P></P>
<B>number</B> is a literal integer to specify a Help message number.
<P></P>
The CONSTRUCT statement is among the statements required to allow users to
perform a query by example. Query by example lets a user query a database by
specifying values or ranges of values for screen fields that correspond to database
columns. 4GL converts these values into a Boolean expression that specifies
search criteria in the WHERE clause of a SELECT statement. 
<P></P>
The CONSTRUCT statement can also control the environment in which the user
enters search criteria, and can restrict the values that the user enters. 
<P></P>
<B>To use the CONSTRUCT statement, you must do the following:
<P></P>
</B><OL><LI> Define fields linked to database columns in a form specification file.
<P></P>
<LI> Declare a character variable with the DEFINE statement.
<P></P>
<LI> Open and display the screen form with either of the following:
<P></P>
</OL>OPEN FORM and DISPLAY FORM statements.
<P></P>
OPEN WINDOW statement with a WITH FORM clause.
<P></P>
<OL START="4"><LI> Use the CONSTRUCT statement to store in the character variable a Boolean
expression based on search criteria that the user enters in the fields.
<P></P>
</OL>The CONSTRUCT statement activates the current form. This is the form most
recently displayed or, if you are using more than one <A HREF="4GLREF4GL_window.htm#7f79dad5">4GL window</A>, the form currently displayed in the current window. You can specify the
current window by using the CURRENT WINDOW statement. When the CONSTRUCT statement
completes execution, the form is deactivated.
<P></P>
<B>When it encounters the CONSTRUCT statement, 4GL does the following:
<P></P>
</B><OL><LI> Displays <A HREF="4GLREFblank_space.htm">blank space</A>s in all the screen fields of the CONSTRUCT field list.
<P></P>
<LI> Moves the screen cursor to the first screen field in that list.
<P></P>
<LI> Waits for the user to enter some value as search criteria in the field. (For
fields where the user enters no value, any value in the corresponding database
column satisfies the search criteria.)
<P></P>
</OL>After the user presses the <A HREF="4GLREFAccept_key.htm">Accept key</A>, CONSTRUCT uses AND operators to combine field values as search criteria in a
Boolean expression, and stores this in a character variable. 
<P></P>
<B>By performing the following steps, you can use this variable in a WHERE clause
to search the database for matching rows:
<P></P>
</B><OL><LI> Concatenate the character variable that contains the Boolean expression with
one or more character strings to create the string representation of an SQL
statement to be executed.  (The Boolean expression generated by the CONSTRUCT
statement is typically used to create SELECT statements.)
<P></P>
<LI> Use the PREPARE statement to create an executable SQL statement from the
character string that was generated in the previous step.
<P></P>
<LI> Execute the prepared statement in one of the following ways:
<P></P>
</OL>Use an SQL cursor with DECLARE and FOREACH statements (or else OPEN and FETCH
statements) to execute a prepared SELECT statement that includes no INTO clause.
<P></P>
Use the EXECUTE statement to execute other SQL statements.
<P></P>
Environment variables that format data values, such as DBTIME, DBFORMAT, or
DBFLTMASK, have no effect on the contents of the Boolean expression.
<P></P>
<B>The CONSTRUCT Variable Clause
<P></P>
</B>The CONSTRUCT variable clause specifies a character variable to store search
criteria, and one or more screen fields in which the user can enter search
criteria for database columns. The CONSTRUCT variable clause has this syntax:
<P></P>
<IMG SRC="4GLREF00000120.gif" ALT="4GLREF00000120.gif" BORDER="0" USEMAP="#map73" WIDTH="584" HEIGHT="349"><MAP NAME="map73"><AREA COORDS="214,150,273,176" HREF="4GLREFTable_Qualifiers.htm"><AREA COORDS="201,100,260,126" HREF="4GLREFTable_Qualifiers.htm"><AREA COORDS="475,76,524,118" HREF="4GLREFField_Clause.htm"></MAP>
<P></P>
<B>column</B> is the name of some database column in table.
<P></P>
<B>database</B> is the name of the database in which the table resides.
<P></P>
<B>owner</B> is the user name of the owner of the table containing the column.
<P></P>
<B>server</B> is the name of the OnLine server. The @ symbol is required.
<P></P>
<B>table</B> is the name or synonym of a table or view in the specified database, or in the
database referenced in the DATABASE statement that was most recently
encountered before this CONSTRUCT statement.
<P></P>
<B><UL><LI>ariable</B> is the name of a CHAR or VARCHAR variable that stores the 4GL Boolean
expression that the CONSTRUCT statement creates, summarizing the user-entered search
criteria.
<P></P>
</UL><B>The CONSTRUCT Form Management Blocks
<P></P>
</B>Each CONSTRUCT Form Management block includes a statement block of at least
one statement, and an activation clause that specifies when to execute the
statement block. The activation clause and statement block correspond respectively to
the left-hand and right-hand syntax elements in this diagram:
<P></P>
<IMG SRC="4GLREF00000121.gif" ALT="4GLREF00000121.gif" BORDER="0" WIDTH="587" HEIGHT="241">
<P></P>
<B>field  </B>is the name of a field either explicitly or implicitly referenced in the
CONSTRUCT Variable clause.
<P></P>
<B>key  </B>is one of the keywords to specify a key that are listed in the section &quot;The <A HREF="4GLREFDISPLAY_ARRAY.htm#f2cb829e">ON KEY Blocks</A>&quot;.
<P></P>
<B>statement</B> is an SQL or other 4GL statement.
<P></P>
<B>References
<P></P>
<A HREF="4GLREFDEFER.htm"></A></B><A HREF="4GLREFDEFER.htm">DEFER</A>
<P></P>
<A HREF="4GLREFDISPLAY_FORM.htm">DISPLAY FORM</A>
<P></P>
<A HREF="4GLREFLET.htm">LET</A>
<P></P>
<A HREF="4GLREFOPEN_FORM.htm">OPEN FORM</A>
<P></P>
<A HREF="4GLREFOPEN_WINDOW.htm#beef7ac7">OPEN WINDOW</A>
<P></P>
<A HREF="4GLREFOPTIONS.htm">OPTIONS</A>
<P></P>
</BODY>
</HTML>