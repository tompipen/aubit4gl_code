<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
   <TITLE>4glWorks Online Manual - All about messages</TITLE>
   <META NAME="author" CONTENT="Marco Greco">
   <META NAME="generator" CONTENT="Hand crafted in Catania by expert Webmakers">
</HEAD>
<BODY BGCOLOR="White"><!-- BACKGROUND="bkg/4gw.jpg" BGPROPERTIES=fixed -->
<H1><HR><CENTER><B>4glWorks Online Manual - All about messages</CENTER></B><HR></H1>
<PRE>
#
#  some pane flags
#
#define K_focussedpane	7
#define K_allpanes	31

#
#  system messages - these are used to allow viewers & scrollers
#  maintain a consistent state
#
#define MB_display	0
#define MB_open	1
#define MB_declare	2
#define MB_scroll	3
#define MB_move	7
#define MB_exit	9
#define MP_scrollup	1
#define MP_scrolldown	-1
#define MP_noscroll	0
#define MP_fulldisplay	-1
#define MP_partdisplay	K_allpanes
#define MP_nodisplay	0
</PRE>
Messages <CODE>MB_display</CODE> to <CODE>MB_declare</CODE> accept a pane number or <CODE>MP_fulldisplay</CODE> to <CODE>MP_nodisplay</CODE> as a parameter. The parameter is
obviously used to tell the viewer/scroller which display action to take.<BR>
<CODE>MB_move</CODE> and <CODE>MB_scroll</CODE> are used internally for data
display tasks.<BR>
The parameter passed along with <CODE>MB_exit</CODE> is the id of the next viewer.
A null parameter signifies that the application should quit.
<PRE>
#
#  upstream messages - these (usually) travel upwards, and are mostly
#  used by the end_modal filter
#
#define MB_init	11
#define MB_notfound	12
#define MB_newset	13
#define MB_doneprint	14
#define MB_recinserted	15
#define MB_recchanged	17
#define MB_recdeleted	18
#define MB_maxupstream	19
</PRE>
<CODE>MB_init</CODE> is used to instruct a scroller to reset it's state to an initial state. It is usually
mapped to <CODE>MB_declare, MP_fulldisplay</CODE>.<BR>
<CODE>MB_notfound</CODE> is used to flag that a record a service was to act upon was not found.
Used to issue an error message. Mapped to <CODE>MB_open, MP_partdisplay</CODE>.<BR>
All other messages are used to generate status messages within the <CODE>end_modal</CODE>
filter.
<PRE>
#
#  browse messages - usually generated by the cursor keys
#
#define MB_prevrow	21
#define MB_nextrow	22
#define MB_prevrec	23
#define MB_nextrec	24
#define MB_prevpage	25
#define MB_nextpage	26
#define MB_home	27
#define MB_end	28
#define MB_nextpane	29
</PRE>
The above messages are dealt with by the pane library.<BR>
Those in the following lines are used withing various 4glWorks viewers to either change their state
or invoke a service.
<PRE>
#
#  record messages - actions to be performed on viewed records
#
#define MB_newrec	31
#define MB_copyrec	32
#define MB_changerec	33
#define MB_deleterec	34

#
#  viewer configuration & active set messages
#
#define MB_configure	41
#define MB_detailed	42
#define MB_brief	43
#define MB_userdetailed	44
#define MB_reloadset	45
#define MB_chooseset	46
#define MB_print	47
#define MB_formatted	48
</PRE>
<CODE>MB_brief</CODE>, <CODE>MB_detailed</CODE> and <CODE>MB_userdetailed</CODE>
are used with <A HREF="4wrwip.htm#browse_filter">browse_filter</A> to switch in
between brief and detailed display modes. The difference between <CODE>MB_detailed</CODE>
and <CODE>MB_userdetailed</CODE> is that in the first, the previous and next page keys
are used to move in between records, while the second leaves them unbound, for
the viewer to make its own use of them.
<PRE>
#
#  4glworks viewer specific messages
#
#define MB_sqledit	51
#define MB_sqlexec	52
#define MB_sqlread	53
#define MB_sqlwrite	54

#
#  maskable messages
#
#define	MB_minmask	20
#define	MB_maxmask	511
</PRE>
</BODY>
</HTML>
