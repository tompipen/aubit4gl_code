<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head http-equiv="content-type" content="text/html; charset=UTF-8" href="http://www.despodata.pt/FglDocumenter/tech_manual.html" language="JavaScript">
   
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Language" content="en-us">
 <!-- BabelFish added base tag --><script language="JavaScript">
<!--
 var babelOrigUrl="http://www.despodata.pt/FglDocumenter/tech_manual.html";  if  ((null == parent) || (null == parent.BabelFishAdd) || ('TF' != parent.BabelFishAdd.babelTF)) { var i = new Image(); i.src = 'http://babel.altavista.com/aftu' }
//--></script>
  <meta name="GENERATOR" content="Microsoft FrontPage 4.0">
  <meta name="ProgId" content="FrontPage.Editor.Document">
  <title>fgldocumenter - Technical Manual</title>
                                  
</head>
  <body>
         
<div align="Center"><big><big><b><font face="Helvetica, Arial, sans-serif">
 fgldocumenter - Technical Manual</font></b></big></big><br> 
     </div>
         
<h1> Introduction </h1>
      This manual presents the tool <i>fgldocumenter </i>  under the point  
of view of its implementation, presenting therefore: <br> 
         
<blockquote>               
  <ul>
         <li> Architecture </li>
         <li> Functional structure <br>
         </li>
         <li> Modular structure </li>
         <li> Dependencies <br>
         </li>
                   
  </ul>
       </blockquote>
                   
  <h1> Architecture </h1>
     The diagram that if follows describes the used architecture for the 
documentor.    <br>
      <br>
           
  <div align="Center"><img src="../images/fgldoc_architectural_model.jpg" alt="Arq" width="605" height="619">
     <br>
     </div>
     <br>
     In conceptual terms it can be divided in the following components: <br> 
               
  <blockquote>                    
    <ul>
          <li> Repository <br>
        </li>
        <li> Documentor </li>
                               
      <ul>
            <li> Parser/Extractor of documentation of sources 4gl </li>
            <li> Exporter for sources 4gl <br>
            </li>
            <li> Importer Csv </li>
            <li> Exporter Csv </li>
            <li> Generator of HTML <br>
            </li>
                               
      </ul>
          <li> Navigator <br>
          </li>
                       
    </ul>
        </blockquote>
                       
    <h2> Repository  </h2>
   The repository is the place where the information on the programs is stored. 
     <br>
      <br>
   The tool interacts with this information importing for it in some formats  
and with origin in some sources. Allow the exportation in the some  or other  
formats. It is possible to on-line access through proper interface (in Web  
environment) or with SQL. <br> 
           
    <h2> Documentor </h2>
     The documentor is composite for some modules programmed with distinct  
languages and tools. <br> 
        <br>
     It was tried, to the maximum to try to guarantee the life of each one,  
this goal still full is however not reached. <br> 
        <br>
     A program in Perl exists that serves of interface with the user for 
the execution of the different allowed actions. <br> 
        <br>
     It allows its execution in graphical environments or for string of command  
without any interaction with the user (for besides generating messages). 
    <br>
        <br>
     It was implemented, also a set of utilitarian methods that provides 
jobs to each one of the components, as for example management of errors and 
writing in filing-cabinets of log.  This is perhaps the ratio of the dependences  
given that still did not reach one level of null dependence. <br> 
                       
    <h3> Extracting Parser / of documentation of sources 4gl </h3>
     Receiving the name from a source from 4gl as parameter, does its syntatic  
analysis, loading the information into memory and later storing (if chosen  
the corresponding option) in a relational repository (inside of a database). 
     <br>
        <br>
     When installed it corresponds to an executable file. <br> 
        <br>
     It was build using the following tools: <br> 
                       
    <blockquote>                            
      <ul>
            <li> Bison / Yacc </li>
            <li> Flex / Lex </li>
            <li> C </li>
            <li> ESQL/C <br>
            </li>
                               
      </ul>
          </blockquote>
          <br>
   It can be executed with the following options: <br> 
               
      <blockquote>                  
        <ul>
            <li> Usage:  p4gl [ - h ] [ - d ] [ - i ] [ - v ] [ - w level 
] - f file.4gl </li>
            <li>   - h:  Display this help message </li> 
            <li>   - d:  Debug mode </li> 
            <li>   - i:  Insert in the repository </li> 
            <li>   - v:  Verbose mode </li> 
            <li>   - w:  Warning level (1,,10) </li> 
            <li>   - c:  Generate documentation </li> 
            <li>   - s:  It uses standard comments will be documentation 
          </li>
            <li>   - p package:  Name of package </li> 
                   
        </ul>
          </blockquote>
                                   
        <h3> Access to the repository </h3>
   The access to the repository (for reading and writing) is built in ESQL/C,  
as such only can accede the repositories in Informix databases. <br> 
          <br>
   I think that the pattern of the database where the repository will be 
installed will be done using the DATABASE environment variable. <br> 
                                                 
        <h3> Exporter for 4gl sources </h3>
     Developed in Perl under the form of object/class, he reads the information  
of the repository, for one or more intended modules, he generates the commentaries  
in fgldoc format and inserts them inside the 4gl source files. <br> 
                                       
        <h3>Csv Importer  </h3> 
 Built under the form of perl Object/Class treats to open the file for which  
it was configured and to load is information to a database with exactly the  
same format.  Later and if intended does the normalization of that information  
for normalized tables in the repository. <br> 
          <br>
   To notice that the loaded information in the csv file format for little  
serves. <br>
                   
        <h3>                   </h3>
                   
        <h3>Csv Exporter </h3>
 Reads the information of tables in relational format duly normalized, unnormalize  
it for the table p4gl_excel and unloads it with caracter separation. <br> 
                   
        <h3>                   </h3>
                   
        <h3>Html Generation </h3>
   So that if it can use this information in unconnected environments, disponivel  
in the repository is possivel to generate a set of file in html format with  
all the repository information.<br> 
          <br>
   This information cannot be modifeid and loaded and loses the SQL access.<br> 
          <br>
   This boarding is, however most traditional and used for similar systems  
of documentation as for example the Doxygen or javadoc.  <br> 
                                       
        <h2> Navigator </h2>
   Construido in JSP(s) allows accesso on-line to the information disponivel  
on the programs resident in the repository. <br> 
          <br>
   Efectua the access through JDBC. <br> 
          <br>
   For they alem of JSP(s) that they are compiled dynamically by the respective  
container will count some classrooms that will have duly to be compiled and  
to be installed in the place correcto of the server. <br> 
                                       
        <h1>Data Model of the repository </h1>
     The repository of the documentor has a pure relational structure, with  
referencial integrity. <br> 
            <br>
     It constitutes the central core of storage of the tool, without which  
nothing it obtains to function conveniently. <br> 
            <br>
     It is, for now implemented and tested on a Informix DBMS.  <br> 
            <br>
     Given the normalization of the structure (and the fact not to use serials  
nor rowid(s)), the conversion for workink on others RDBMS(s) (such as Postgressql)  
should not be to  much complicated.<br> 
         <br>
 Folowing we have the description of each table of the relational repository.  
We have not yet descriptions for  each column but its a task to do.<br> 
                   
        <h2> p4gl_package <br>
          </h2>
   Package identifies one that typically it corresponds to a directory. Its  
a way of divinding the source file to be unique.<br> 
          <br>
                   
        <table cellpadding="2" cellspacing="2" border="1" width="100%">
            <tbody>
              <tr>
                <td valign="Top">                              
              <div align="Center"><b> Column </b><br>
                </div>
                </td>
                <td valign="Top">                              
              <div align="Center"><b> Description </b><br>
                </div>
                </td>
              </tr>
              <tr>
                <td valign="Top"> id_package </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> comments <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
                       
          </tbody>                  
        </table>
                   
        <h2> they p4gl_program <br>
          </h2>
   Executable program to be compiled. <br> 
   It does not support programs with name the same. <br> 
 It is not used now. When the syspgm or makefile importer is done its the  
place where the executable are defined.<br> 
          <br>
                   
        <table cellpadding="2" cellspacing="2" border="1" width="100%">
            <tbody>
              <tr>
                <td valign="Top">                              
              <div align="Center"><b> Column </b><br>
                </div>
                </td>
                <td valign="Top">                              
              <div align="Center"><b> Description </b><br>
                </div>
                </td>
              </tr>
              <tr>
                <td valign="Top"> program_name </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> comments </td>
              </tr>
                       
          </tbody>                  
        </table>
                   
        <pre>
</pre>
                   
        <h2> p4gl_module <br>
          </h2>
   It identifies to a module 4gl (compilable 4gl source file). <br> 
          <br>
                   
        <table cellpadding="2" cellspacing="2" border="1" width="100%">
            <tbody>
              <tr>
                <td valign="Top">                              
              <div align="Center"><b> Column </b><br>
                </div>
                </td>
                <td valign="Top">                              
              <div align="Center"><b> Description </b><br>
                </div>
                </td>
              </tr>
              <tr>
                <td valign="Top"> id_package </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> module_name </td>
              </tr>
              <tr>
                <td valign="Top"> comments <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
                       
          </tbody>                  
        </table>
                   
        <pre>
</pre>
                   
        <h2> p4gl_module_prog <br>
          </h2>
   Definition of dependencies of sources (4gl) for the construction of one  
programs. Not used at the time.<br> 
          <br>
                   
        <table cellpadding="2" cellspacing="2" border="1" width="100%">
            <tbody>
              <tr>
                <td valign="Top">                              
              <div align="Center"><b> Column </b><br>
                </div>
                </td>
                <td valign="Top">                              
              <div align="Center"><b> Description </b><br>
                </div>
                </td>
              </tr>
              <tr>
                <td valign="Top"> program_name <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> id_package </td>
              </tr>
              <tr>
                <td valign="Top"> module_name <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
                       
          </tbody>                  
        </table>
                   
        <pre>
</pre>
                   
        <h2> p4gl_function <br>
          </h2>
   It identifies each 4gl function. <br> 
          <br>
                   
        <table cellpadding="2" cellspacing="2" border="1" width="100%">
            <tbody>
              <tr>
                <td valign="Top">                              
              <div align="Center"><b> Column </b><br>
                </div>
                </td>
                <td valign="Top">                              
              <div align="Center"><b> Description </b><br>
                </div>
                </td>
              </tr>
              <tr>
                <td valign="Top"> id_package </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> module_name </td>
              </tr>
              <tr>
                <td valign="Top"> function_name <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> function_type <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> comments <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
                       
          </tbody>                  
        </table>
                   
        <pre>
</pre>
                   
        <h2> p4gl_process <br>
          </h2>
   It identifies an analyzed and drawn process that the software implements.<br> 
          <br>
                   
        <table cellpadding="2" cellspacing="2" border="1" width="100%">
            <tbody>
              <tr>
                <td valign="Top">                              
              <div align="Center"><b> Column </b><br>
                </div>
                </td>
                <td valign="Top">                              
              <div align="Center"><b> Description </b><br>
                </div>
                </td>
              </tr>
              <tr>
                <td valign="Top"> id_package </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> den_process <br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> comments <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
                       
          </tbody>                  
        </table>
                   
        <pre>
</pre>
                   
        <h2> p4gl_process <br>
          </h2>
   It associates functions the processes. <br> 
          <br>
                   
        <table cellpadding="2" cellspacing="2" border="1" width="100%">
            <tbody>
              <tr>
                <td valign="Top">                              
              <div align="Center"><b> Column </b><br>
                </div>
                </td>
                <td valign="Top">                              
              <div align="Center"><b> Description </b><br>
                </div>
                </td>
              </tr>
              <tr>
                <td valign="Top"> id_package </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> module_name </td>
              </tr>
              <tr>
                <td valign="Top"> function_name <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> id_process <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
                       
          </tbody>                  
        </table>
                   
        <pre>
</pre>
                   
        <h2> to p4gl_fun_parameter <br>
          </h2>
           It associates parameters to functions<br> 
         <br>
                   
        <table cellpadding="2" cellspacing="2" border="1" width="100%">
            <tbody>
              <tr>
                <td valign="Top">                              
              <div align="Center"><b> Column </b><br>
                </div>
                </td>
                <td valign="Top">                              
              <div align="Center"><b> Description </b><br>
                </div>
                </td>
              </tr>
              <tr>
                <td valign="Top"> id_package </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> module_name </td>
              </tr>
              <tr>
                <td valign="Top"> function_name <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> item_num <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> var_name <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> data_type <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> comments <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
                       
          </tbody>                  
        </table>
                   
        <pre>
</pre>
                   
        <h2> p4gl_fun_return <br>
          </h2>
 Return values of a function. <br> 
          <br>
                   
        <table cellpadding="2" cellspacing="2" border="1" width="100%">
            <tbody>
              <tr>
                <td valign="Top">                              
              <div align="Center"><b> Column </b><br>
                </div>
                </td>
                <td valign="Top">                              
              <div align="Center"><b> Description </b><br>
                </div>
                </td>
              </tr>
              <tr>
                <td valign="Top"> id_package </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> module_name <br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> function_name <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> item_num <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> var_name <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> data_type <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> comments <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
                       
          </tbody>                  
        </table>
                   
        <pre>
</pre>
                   
        <h2> p4gl_fun_todo <br>
          </h2>
   Tasks to execute in a function. <br> 
          <br>
                   
        <table cellpadding="2" cellspacing="2" border="1" width="100%">
            <tbody>
              <tr>
                <td valign="Top">                              
              <div align="Center"><b> Column </b><br>
                </div>
                </td>
                <td valign="Top">                              
              <div align="Center"><b> Description </b><br>
                </div>
                </td>
              </tr>
              <tr>
                <td valign="Top"> id_package </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> module_name </td>
              </tr>
              <tr>
                <td valign="Top"> function_name <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> item_num <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> comments <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
                       
          </tbody>                  
        </table>
                   
        <pre>
</pre>
                   
        <h2> p4gl_table_usage <br>
          </h2>
   Table uses. <br> 
          <br>
                   
        <table cellpadding="2" cellspacing="2" border="1" width="100%">
            <tbody>
              <tr>
                <td valign="Top">                              
              <div align="Center"><b> Column </b><br>
                </div>
                </td>
                <td valign="Top">                              
              <div align="Center"><b> Description </b><br>
                </div>
                </td>
              </tr>
              <tr>
                <td valign="Top"> id_package </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> module_name </td>
              </tr>
              <tr>
                <td valign="Top"> function_name <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> table_name <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> operation <br>
                </td>
                <td valign="Top">                              
              <pre> ' I ','U ','D ','S '
</pre>
                </td>
              </tr>
                       
          </tbody>                  
        </table>
                   
        <pre>
</pre>
                   
        <h2> p4gl_excel <br>
          </h2>
   Loaded unnormalized data loaded directtly from a spreadsheet.<br> 
          <br>
                   
        <table cellpadding="2" cellspacing="2" border="1" width="100%">
            <tbody>
              <tr>
                <td valign="Top">                              
              <div align="Center"><b> Column </b><br>
                </div>
                </td>
                <td valign="Top">                              
              <div align="Center"><b> Description </b><br>
                </div>
                </td>
              </tr>
              <tr>
                <td valign="Top"> module_name </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> id_process </td>
              </tr>
              <tr>
                <td valign="Top"> function_name <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> parameters <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> returns <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> called <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
              <tr>
                <td valign="Top"> comments <br>
                </td>
                <td valign="Top"><br>
                </td>
              </tr>
                       
          </tbody>                  
        </table>
          <br>
          <br>
                                           
        <h1> Dependencies </h1>
     To be compiled and (or)  executed, the documenter have to fulfill a 
certain number of requirements, that we describe here.<br> 
                                           
        <h2> Run-time</h2>
 You need to install the folowing software in order to run the tool: <br> 
                                                 
        <blockquote>                                                 
          <ul>
           <li> Perl &gt; = 5,6 </li>
           <li> Perl Dbi  </li>
           <li> Perl DBD::Informix </li>
           <li> Perl::Tk </li>
                <li> Perl::Data </li>
                <li> Perl::Getopt <br>
                </li>
           <li> Informix Cli </li>
           <li> JSP </li>
           <li> Jakarta Tomcat </li>
           <li> JRE </li>
                <li> Informix Jdbc <br>
           </li>
                                                     
          </ul>
         </blockquote>
                                                     
          <h2> Compilation</h2>
 To complie the tool you need:<br> 
                                                     
          <blockquote>                                                  
        
            <ul>
             <li> Informix Esql/c </li>
             <li> Bison </li>
             <li> Lex </li>
             <li> GCC </li>
             <li> J2SE SDK </li>
                  <li> Make <br>
             </li>
                                                               
            </ul>
           </blockquote>
                           
            <h1>Instalation / Compilation instructions</h1>
This project, for now exists only in source distribution. <br> 
            <br>
We have no autoconf configure script.<br> 
            <br>
We have no RPM or debian packager.<br> 
            <br>
So, you have to compile and install it in order to use it.<br> 
            <br>
The variable information is kept in a makefile include file called FgldocDefs.mk. 
The goal is the only change this one in order to compile and install the 
tool.<br>
            <br>
So, the steps to compile are:<br> 
            <blockquote>
              <ul>
                <li>Edit and modify FgldocDefs.mk</li>
                <li>Create the target directory where the perl modules should
be installed </li>
                <li>Type <i>make clean</i></li>
                <li>Type <i>make all</i></li>
                <li>Type <i>make install</i></li>
              </ul>
              </blockquote>
I hope it works.<br> 
              <h1>Configuration file </h1>
   The configuration file has the one format export of Perl data using the  
Data::Dumper module. <br> 
              <br>
   It can manually be modified, however will have of if having care to guarantee  
that each string correctly obtains to be evaluated by the eval <i> instruction  
            </i>  of <i> the Perl </i>. <br> 
                                                               
              </body>
              </html>
