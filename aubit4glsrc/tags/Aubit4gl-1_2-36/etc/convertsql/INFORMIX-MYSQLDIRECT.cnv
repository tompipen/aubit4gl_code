# rules for converting Informix SQL to MYSQL-compatible syntax



DOUBLE_TO_SINGLE_QUOTES
MATCHES_TO_REGEXP
TABLE_ALIAS_AS
ADD_CASCADE
COLUMN_ALIAS_AS
MONEY_AS_DECIMAL
ANSI_UPDATE_SYNTAX
CONSTRAINT_NAME_BEFORE
SUBSTRING_FUNCTION = substr
STRIP_ORDER_BY_INTO_TEMP
SELECT_INTO_TEMP_AS_CREATE_TEMPORARY_AS
TEMP_AS_TEMPORARY
DATE_STRING_TO_YMD


# Postgres doesn't have one of these - so fake one
DTYPE_ALIAS BYTE = VARCHAR 


# Postgres doesn't have one of these - so fake one
DTYPE_ALIAS SMALLFLOAT = FLOAT
DTYPE_ALIAS DATETIME DAY TO DAY=SMALLINT
DTYPE_ALIAS DATETIME DAY TO FRACTION(2)=DATETIME
DTYPE_ALIAS DATETIME DAY TO FRACTION=DATETIME
DTYPE_ALIAS DATETIME DAY TO HOUR=DATETIME
DTYPE_ALIAS DATETIME DAY TO MINUTE=DATETIME
DTYPE_ALIAS DATETIME DAY TO SECOND=DATETIME
DTYPE_ALIAS DATETIME HOUR TO FRACTION(2)=DATETIME
DTYPE_ALIAS DATETIME HOUR TO FRACTION=DATETIME
DTYPE_ALIAS DATETIME HOUR TO HOUR=SMALLINT
DTYPE_ALIAS DATETIME HOUR TO MINUTE=DATETIME
DTYPE_ALIAS DATETIME HOUR TO SECOND=DATETIME
DTYPE_ALIAS DATETIME MINUTE TO FRACTION(1)=DATETIME
DTYPE_ALIAS DATETIME MINUTE TO FRACTION=DATETIME
DTYPE_ALIAS DATETIME MINUTE TO MINUTE=SMALLINT
DTYPE_ALIAS DATETIME MINUTE TO SECOND=DATETIME
DTYPE_ALIAS DATETIME MONTH TO DAY=DATETIME
DTYPE_ALIAS DATETIME MONTH TO FRACTION(1)=DATETIME
DTYPE_ALIAS DATETIME MONTH TO FRACTION=DATETIME
DTYPE_ALIAS DATETIME MONTH TO HOUR=DATETIME
DTYPE_ALIAS DATETIME MONTH TO MINUTE=DATETIME
DTYPE_ALIAS DATETIME MONTH TO MONTH=SMALLINT
DTYPE_ALIAS DATETIME MONTH TO SECOND=DATETIME
DTYPE_ALIAS DATETIME SECOND TO FRACTION(2)=DATETIME
DTYPE_ALIAS DATETIME SECOND TO FRACTION=DATETIME
DTYPE_ALIAS DATETIME SECOND TO SECOND=SMALLINT
DTYPE_ALIAS DATETIME YEAR TO DAY=DATETIME
DTYPE_ALIAS DATETIME YEAR TO FRACTION(2)=DATETIME
DTYPE_ALIAS DATETIME YEAR TO FRACTION(3)=DATETIME
DTYPE_ALIAS DATETIME YEAR TO FRACTION(5)=DATETIME
DTYPE_ALIAS DATETIME YEAR TO FRACTION=DATETIME
DTYPE_ALIAS DATETIME YEAR TO HOUR=DATETIME
DTYPE_ALIAS DATETIME YEAR TO MINUTE=DATETIME
DTYPE_ALIAS DATETIME YEAR TO MONTH=DATETIME
DTYPE_ALIAS DATETIME YEAR TO SECOND=DATETIME
DTYPE_ALIAS DATETIME YEAR TO YEAR=SMALLINT
DTYPE_ALIAS INTERVAL YEAR TO YEAR=CHAR(20)
DTYPE_ALIAS INTERVAL YEAR (4) TO YEAR=CHAR(20)
DTYPE_ALIAS INTERVAL YEAR TO MONTH=CHAR(20)
DTYPE_ALIAS INTERVAL YEAR (4) TO MONTH=CHAR(20)
DTYPE_ALIAS INTERVAL MONTH TO MONTH=CHAR(20)
DTYPE_ALIAS INTERVAL MONTH (2) TO MONTH=CHAR(20)
DTYPE_ALIAS INTERVAL DAY TO DAY=CHAR(20)
DTYPE_ALIAS INTERVAL DAY (2) TO DAY=CHAR(20)
DTYPE_ALIAS INTERVAL DAY TO HOUR=CHAR(20)
DTYPE_ALIAS INTERVAL DAY (2) TO HOUR=CHAR(20)
DTYPE_ALIAS INTERVAL DAY TO MINUTE=CHAR(20)
DTYPE_ALIAS INTERVAL DAY (2) TO MINUTE=CHAR(20)
DTYPE_ALIAS INTERVAL DAY TO SECOND=CHAR(20)
DTYPE_ALIAS INTERVAL DAY (2) TO SECOND=CHAR(20)
DTYPE_ALIAS INTERVAL DAY TO FRACTION=CHAR(20)
DTYPE_ALIAS INTERVAL DAY (2) TO FRACTION=CHAR(20)
DTYPE_ALIAS INTERVAL DAY TO FRACTION(2)=CHAR(20)
DTYPE_ALIAS INTERVAL DAY (2) TO FRACTION(2)=CHAR(20)
DTYPE_ALIAS INTERVAL HOUR TO HOUR=CHAR(20)
DTYPE_ALIAS INTERVAL HOUR (2) TO HOUR=CHAR(20)
DTYPE_ALIAS INTERVAL HOUR TO MINUTE=CHAR(20)
DTYPE_ALIAS INTERVAL HOUR (2) TO MINUTE=CHAR(20)
DTYPE_ALIAS INTERVAL HOUR TO SECOND=CHAR(20)
DTYPE_ALIAS INTERVAL HOUR (2) TO SECOND=CHAR(20)
DTYPE_ALIAS INTERVAL HOUR TO FRACTION=CHAR(20)
DTYPE_ALIAS INTERVAL HOUR (2) TO FRACTION=CHAR(20)
DTYPE_ALIAS INTERVAL HOUR TO FRACTION(2)=CHAR(20)
DTYPE_ALIAS INTERVAL HOUR (2) TO FRACTION(2)=CHAR(20)
DTYPE_ALIAS INTERVAL MINUTE TO MINUTE=CHAR(20)
DTYPE_ALIAS INTERVAL MINUTE (2) TO MINUTE=CHAR(20)
DTYPE_ALIAS INTERVAL MINUTE TO SECOND=CHAR(20)
DTYPE_ALIAS INTERVAL MINUTE (2) TO SECOND=CHAR(20)
DTYPE_ALIAS INTERVAL MINUTE TO FRACTION=CHAR(20)
DTYPE_ALIAS INTERVAL MINUTE (2) TO FRACTION=CHAR(20)
DTYPE_ALIAS INTERVAL MINUTE (2 ) TO FRACTION(1)=CHAR(20)
DTYPE_ALIAS INTERVAL MINUTE (2) TO FRACTION(1)=CHAR(20)
DTYPE_ALIAS INTERVAL SECOND TO SECOND=CHAR(20)
DTYPE_ALIAS INTERVAL SECOND (2) TO SECOND=CHAR(20)
DTYPE_ALIAS INTERVAL SECOND TO FRACTION=CHAR(20)
DTYPE_ALIAS INTERVAL SECOND (2) TO FRACTION=CHAR(20)
DTYPE_ALIAS INTERVAL SECOND TO FRACTION(2)=CHAR(20)
DTYPE_ALIAS INTERVAL SECOND (2) TO FRACTION(2)=CHAR(20)
DTYPE_ALIAS NVARCHAR=VARCHAR
DTYPE_ALIAS SERIAL=INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT




OMIT_NO_LOG
USE_INDICATOR
REPLACE_SQLCONST rowid = oid

REPLACE_SQLCONST USER = USER()
REPLACE_SQLCONST TODAY = NOW()

# These are only needed for non-patched postgres :
# REPLACE_SQLCONST today = date(now())
# REPLACE_SQLFUNC year = date_part('YEAR',%s::timestamp with time zone)
# REPLACE_SQLFUNC month = date_part('MONTH',%s::timestamp with time zone)
# REPLACE_SQLFUNC day = date_part('DAY',%s::timestamp with time zone)
# REPLACE_SQLFUNC dow = date_part('DOW',%s::timestamp with time zone)

REPLACE_SQLFUNC ascii = chr(%s)
REPLACE_SQLFUNC ord = ascii(%s)
REPLACE_SQLFUNC day = dayofmonth(%s)

REPLACE_EXPR current year to fraction(3) = now()
REPLACE_EXPR current year to fraction(5) = now()
REPLACE_EXPR current year to second = now()

# No obvious replacement for these - so effectively remove them
REPLACE_COMMAND SET EXPLAIN ON = 
REPLACE_COMMAND SET EXPLAIN OFF = 

# This is about as close as postgres gets to an update statistics...
REPLACE_COMMAND UPDATE STATISTICS = VACUUM

# We can only replace whole statements with a REPLACE_COMMAND
# so we need to use a REPLACE on its own for this one..
REPLACE UPDATE STATISTICS FOR TABLE  = VACUUM 

# Postgres doesn't implement these - so ignore them ?
REPLACE_COMMAND SET ISOLATION TO DIRTY READ =   SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED
REPLACE_COMMAND SET ISOLATION TO COMMITTED READ =   SET TRANSACTION ISOLATION LEVEL READ COMMITTED
REPLACE_COMMAND SET ISOLATION TO CURSOR STABILITY =   SET TRANSACTION ISOLATION LEVEL READ COMMITTED
REPLACE_COMMAND SET ISOLATION TO REPEATABLE READ =   SET TRANSACTION ISOLATION LEVEL REPEATABLE READ

REPLACE_COMMAND SET LOCK MODE TO NOT WAIT =
REPLACE_COMMAND SET LOCK MODE TO WAIT =
REPLACE_COMMAND SET LOCK MODE TO WAIT %s =

# Ignore any errors when closing a cursor
# it may already have been closed...
IGNORE_CLOSE_ERROR
OMIT_INDEX_CLUSTER
OMIT_INDEX_ORDER
IGNORE_OWNER
ESQL_UNLOAD_FULL_PATH
ESQL_AFTER_INSERT = A4GLESQL_after_insert();
ESQL_AFTER_UPDATE = A4GLESQL_after_update();
ESQL_AFTER_DELETE = A4GLESQL_after_delete();

IGNORE_DTYPE_VARCHAR_MIN
# Quote an SQL expression in the form DATETIME(2001-01-01) to be DATETIME("2001-01-01") (give the db a chance to handle with a SP)
CHAR_TO_DATETIME=char_to_dt
# Quote an SQL expression in the form DATETIME(2001-01-01) to be DATETIME("2001-01-01") (give the db a chance to handle with a SP)
CHAR_TO_INTERVAL=char_to_iv
DATETIME_EXTEND_FUNCTION=dt_extend
INTERVAL_EXTEND_FUNCTION=iv_extend

# Remove any columns for an GRANT UPDATE (...) ...
SIMPLE_GRANT_UPDATE
SIMPLE_GRANT_SELECT
# Remove any (...) for serial (autoincrements) columns
NO_SERIAL_START_VALUE

RENAME_TABLE_AS_ALTER_TABLE
RENAME_COLUMN_AS_ALTER_TABLE
REMAP_ERROR -1146=-206
SWAP_SQLCA62
MATCHES_VAR_FUNC = matches_to_regexp
FIRSTASLIMIT
RTRIMSQLLIKEVAR
